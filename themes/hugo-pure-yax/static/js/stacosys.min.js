function xdr(e,n,t,s,o,r,a,u){var i;if(XMLHttpRequest){if("withCredentials"in(i=new XMLHttpRequest)){i.open(s,t,!0),i.onerror=u,i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<400?a(e,n,i.responseText):u(new Error("Response returned with non-OK status")))};for(var S in r)i.setRequestHeader(S,r[S]);i.send(o)}}else if(XDomainRequest){(i=new XDomainRequest).open(s,t),i.onerror=u,i.onload=function(){a(e,n,i.responseText)};for(var S in r)i.setRequestHeader(S,r[S]);i.send(o)}else u(new Error("CORS not supported"))}function stacosys_get_count(e,n,t,s){xdr(e,n,STACOSYS_HTTP_URL+"/comments/count?token="+STACOSYS_TOKEN+"&url="+e,"GET",null,{},t,s)}function stacosys_load_comments(e,n,t){xdr(e,null,STACOSYS_HTTP_URL+"/comments?token="+STACOSYS_TOKEN+"&url="+e,"GET",null,{},n,t)}function stacosys_new_comment(e,n,t,s,o,r,a,u,i){var S=STACOSYS_URL+"/comments",c={token:STACOSYS_TOKEN,url:e,author:n,email:t,site:s,captcha:o,subscribe:r,message:a},l={"Content-type":"application/json"};JSON.stringify(c);xdr(e,null,S,"POST",JSON.stringify(c),l,u,i)}
